    import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GEMINI_API_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-80 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/44/94/95/exterior.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1345,\n        \"longitude\": -115.1633\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme, family-friendly with affordable rates. Features a large casino, pool, and adventure dome.\",\n      \"bestFor\": \"Budget-conscious travelers and families\"\n    },\n    {\n      \"hotelName\": \"Strat Hotel, Casino & SkyPod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$50-90 per night\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/26/b3/26/21/the-strat-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1472,\n        \"longitude\": -115.1559\n      },\n      \"rating\": 3.7,\n      \"description\": \"Located at the north end of the strip, The Strat offers good value with access to its iconic tower and thrill rides.\",\n      \"bestFor\": \"Budget-friendly travelers seeking iconic views and thrilling experiences\"\n    },\n      {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n       \"price\": \"$45-85 per night\",\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/27/99/31/4c/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0989,\n        \"longitude\": -115.1712\n      },\n      \"rating\": 3.8,\n      \"description\": \"A medieval-themed hotel on the south end of the strip, offering value-priced rooms and a range of dining and entertainment options.\",\n      \"bestFor\": \"Budget-conscious travelers who like themed hotels\"\n     }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip and Free Entertainment\",\n      \"activities\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"A beautiful indoor garden that changes with the seasons. Free to enter.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/12/a5/1e/54/bellagio-conservatory.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Morning or late afternoon\",\n          \"travelTime\": \"Depends on your hotel location, walking distance from most central strip hotels\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Iconic water fountain show set to music. Free to watch.\",\n           \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/1e/9d/24/bellagio-fountains.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1737\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Evening, every 30 minutes\",\n             \"travelTime\": \"Right outside the Bellagio\"\n        },\n          {\n          \"placeName\": \"The LINQ Promenade\",\n           \"placeDetails\": \"A vibrant outdoor shopping, dining and entertainment area, often with street performers. Free to walk through.\",\n           \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/0c/f2/46/f0/linq-promenade.jpg\",\n          \"geoCoordinates\": {\n           \"latitude\": 36.1176,\n           \"longitude\": -115.1692\n           },\n         \"ticketPricing\": \"Free\",\n         \"bestTimeToVisit\": \"Afternoon or evening\",\n           \"travelTime\": \"Walking distance from the Bellagio\"\n           },\n          {\n          \"placeName\": \"Fremont Street Experience\",\n           \"placeDetails\": \"A pedestrian mall in downtown Las Vegas with a canopy of lights and free light shows. Free to walk through.\",\n            \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/23/f3/e2/9c/fremont-street-experience.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1701,\n            \"longitude\": -115.1400\n             },\n          \"ticketPricing\": \"Free\",\n           \"bestTimeToVisit\": \"Evening for the light shows\",\n           \"travelTime\": \"About 15-20 mins by car/ride share from The Strip or use the Bus.\"\n         }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Affordable Attractions and Local Flavors\",\n      \"activities\": [\n         {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"An iconic landmark for photo opportunities.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/0e/49/66/f9/welcome-to-fabulous-las.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1724\n          },\n           \"ticketPricing\": \"Free\",\n            \"bestTimeToVisit\": \"Anytime, day is better for photos\",\n             \"travelTime\":\"Short ride share or bus ride from the strip\"\n         },\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic desert landscape with hiking trails (entry fee applies, typically around $15 per vehicle).\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/16/8a/6e/a9/red-rock-canyon-national.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1482,\n            \"longitude\": -115.3761\n           },\n            \"ticketPricing\": \"$15-20 per vehicle\",\n            \"bestTimeToVisit\": \"Morning or late afternoon\",\n            \"travelTime\": \"About 20-30 minutes by car or ride share from the strip\"\n        },\n        {\n          \"placeName\": \"The High Roller Observation Wheel\",\n          \"placeDetails\": \"The High Roller is a 550-foot-tall Ferris wheel on the Las Vegas Strip.  \",\n            \"placeImageUrl\":\"https://media-cdn.tripadvisor.com/media/photo-s/15/f7/46/b0/the-high-roller-at-the.jpg\",\n          \"geoCoordinates\": {\n           \"latitude\": 36.1171,\n            \"longitude\": -115.1686\n          },\n           \"ticketPricing\": \"$25-40 per person, check for discounts online\",\n            \"bestTimeToVisit\": \"Sunset\",\n           \"travelTime\": \"Part of the LINQ Promenade\"\n        },\n      {\n          \"placeName\": \"Eat Local at In-N-Out Burger\",\n          \"placeDetails\":\"A West Coast classic, known for affordable and delicious burgers\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/0e/6d/b1/44/in-n-out-burger.jpg\",\n           \"geoCoordinates\":{\n            \"latitude\": 36.1015,\n            \"longitude\": -115.1706\n              },\n          \"ticketPricing\":\"~$10-$15 per person\",\n           \"bestTimeToVisit\":\"Anytime\",\n           \"travelTime\":\"Multiple Locations, Check nearest location from your current position\"\n        }\n      ]\n    },\n      \"day3\": {\n      \"theme\": \"Exploring More of Las Vegas\",\n        \"activities\":[\n          {\n           \"placeName\": \"Mirage Volcano\",\n            \"placeDetails\":\"A free fiery spectacle located in front of the Mirage Hotel\",\n            \"placeImageUrl\":\"https://media-cdn.tripadvisor.com/media/photo-s/05/05/55/c6/mirage-volcano.jpg\",\n            \"geoCoordinates\":{\n              \"latitude\": 36.1208,\n              \"longitude\": -115.1731\n            },\n            \"ticketPricing\":\"Free\",\n            \"bestTimeToVisit\":\"Evening, show times usually start from 7PM to 11PM\",\n            \"travelTime\":\"Walking distance from most central strip hotels\"\n          },\n          {\n           \"placeName\":\"M&M's World\",\n            \"placeDetails\":\"A fun multi-story store dedicated to M&M candies\",\n           \"placeImageUrl\":\"https://media-cdn.tripadvisor.com/media/photo-s/07/37/9e/22/m-m-s-world.jpg\",\n            \"geoCoordinates\":{\n              \"latitude\":36.1054,\n               \"longitude\": -115.1708\n            },\n            \"ticketPricing\":\"Free to enter, purchases optional\",\n            \"bestTimeToVisit\":\"Anytime\",\n             \"travelTime\":\"Walking distance from the south end of the strip\"\n          },\n             {\n            \"placeName\":\"The Container Park\",\n             \"placeDetails\":\"A unique outdoor shopping center with stores and restaurants made from shipping containers. \",\n            \"placeImageUrl\":\"https://media-cdn.tripadvisor.com/media/photo-s/07/c0/0a/02/downtown-container-park.jpg\",\n            \"geoCoordinates\":{\n                \"latitude\":36.1677,\n                \"longitude\": -115.1392\n            },\n            \"ticketPricing\":\"Free\",\n            \"bestTimeToVisit\":\"Evening for the atmosphere\",\n             \"travelTime\":\"Near Fremont Street Experience, about 15-20 mins by car/ride share from The Strip or use the Bus.\"\n          },\n        {\n           \"placeName\":\"Enjoy a Final Free Show\",\n            \"placeDetails\":\"Enjoy a final free show at places like the Bellagio Fountains, or the Volcano. Check schedules.\",\n            \"placeImageUrl\":\"https://www.vegas.com/wp-content/uploads/2023/08/bellagio-fountains-at-night-2400x1400.jpg\",\n            \"geoCoordinates\":{\n             \"latitude\": 36.1126,\n            \"longitude\": -115.1737\n             },\n            \"ticketPricing\":\"Free\",\n            \"bestTimeToVisit\":\"Evening\",\n            \"travelTime\":\"Depends on your show choice and location\"\n         }\n        ]\n      }\n  }\n}\n```"},
          ],
        },
      ],
    });
  
  